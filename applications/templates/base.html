<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheedt" type="text/css" href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}{% endblock %}</title>
    <link rel="shortcut icon" type="image/png"
        href="{{ url_for('static', filename='assets/images/icon/favicon.ico') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/bootstrap.min.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/font-awesome.min.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/themify-icons.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/metisMenu.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/owl.carousel.min.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/slicknav.min.css') }}" />
    <!-- amchart css -->
    <link rel="stylesheet" type="text/css" href="https://www.amcharts.com/lib/3/plugins/export/export.css" media="all" />
    <!-- others css -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/typography.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/default-css.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/styles.css') }}" />
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/responsive.css') }}" />
    <!-- modernizr css -->
    <script src="{{ url_for('static', filename='assets/js/vendor/modernizr-2.8.3.min.js') }}"></script>
    <!-- Datatble -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/datatables.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/fixedColumns.dataTables.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/buttons.dataTables.css') }}">
    <!-- SweetAlert 2 -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/sweetalert2.min.css') }}">

    <!-- jquery latest version -->
    <script src="{{ url_for('static', filename='assets/js/vendor/jquery-2.2.4.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/tambahanCdr.js') }}"></script>

    <!-- printJS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/print.min.css') }}">
    <script src="{{ url_for('static', filename='assets/js/print.min.js') }}"></script>

    <!-- JS Barcode -->
    <script src="{{ url_for('static', filename='assets/js/jsBarcode.all.min.js') }}"></script>

    <!-- Select2 -->
    <script src="{{ url_for('static', filename='assets/js/select2.min.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/select2.min.css') }}">

    <style>
        .input-container input {
            border: none;
            box-sizing: border-box;
            outline: 0;
            padding: .75rem;
            position: relative;
            width: 100%;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            background: transparent;
            bottom: 0;
            color: transparent;
            cursor: pointer;
            height: auto;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            width: auto;
        }

        table.dataTable tbody td {
            vertical-align: middle;
        }

        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            margin: 0;
        }

        th.dt-center,
        td.dt-center {
            text-align: center;
        }
    </style>
</head>

<body>
    <!--[if lt IE 8]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="http://browsehappy.com/">upgrade your browser</a> to improve
        your experience.
      </p>
    <![endif]-->
    <!-- preloader area start -->
    <div id="preloader">
        <div class="loader"></div>
    </div>
    <!-- preloader area end -->
    <!-- page container area start -->
    <div class="page-container">
        <!-- sidebar menu area start -->
        <div class="sidebar-menu">
            <div class="sidebar-header">
                <div class="logo">
                    <a href="#"><img src="{{ url_for('static', filename='assets/images/icon/logo.png') }}" alt="logo" /></a>
                </div>
            </div>
            <div class="main-menu">
                <div class="menu-inner">
                    <nav>
                        <ul class="metismenu" id="menu">
                            <li id="sidebar-dashboard">
                                <a href="/"><i class="ti-dashboard"></i><span>Dashboard</span></a>
                            </li>

                            {% if current_user.level|int >= 3 %}
                            <li id="sidebar-pelanggan">
                                <a href="/member/"><i class="ti-user"></i><span>Daftar Pelanggan</span></a>
                            </li>
                            <li id="sidebar-kategori-parent">
                                <a href="javascript:void(0)" aria-expanded="true"><i
                                        class="ti-briefcase"></i><span>Kategori</span></a>
                                <ul class="collapse">
                                    <li id="sidebar-merk"><a href="/merk/">Kategori</a></li>
                                    <li id="sidebar-kategori"><a href="/category/">Merk</a></li>
                                </ul>
                            </li>
                            <li id="sidebar-produk-parent">
                                <a href="javascript:void(0)" aria-expanded="true"><i
                                        class="ti-package"></i><span>Produk</span></a>
                                <ul class="collapse">
                                    <li id="sidebar-produk"><a href="/product/">Daftar Produk</a></li>
                                    <li id="sidebar-barcode"><a href="/barcode/">Barcode</a></li>
                                </ul>
                            </li>
                            <li id="sidebar-transaksi">
                                <a href="/transaksi/"><i class="ti-shopping-cart"></i><span>Transaksi</span></a>
                            </li>
                            <li id="sidebar-transaksi">
                                <a href="/receipt/"><i class="ti-truck"></i><span>Terima Barang</span></a>
                            </li>
                            <li id="sidebar-rekening">
                                <a href="/rekening/"><i class="ti-money"></i><span>Rekening</span></a>
                            </li>
                            <li id="sidebar-toko">
                                <a href="/outlet/"><i class="ti-home"></i><span>Outlet</span></a>
                            </li>
                            {% endif %}

                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <!-- sidebar menu area end -->
        <!-- main content area start -->
        <div class="main-content">
            <!-- page title area start -->
            <div class="page-title-area">
                <div class="row align-items-center">
                    <div class="col-sm-6">
                        <div class="breadcrumbs-area clearfix">
                            <div class="nav-btn pull-left">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <h4 class="page-title pull-left">{% block menu %}{% endblock %}</h4>
                            <ul class="breadcrumbs pull-left">
                                <li><a href="/">Home</a></li>
                                <li><span>{{ self.menu() }}</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 clearfix">
                        <div class="user-profile pull-right">
                            <img class="avatar user-thumb"
                                src="{{ url_for('static', filename='assets/images/author/avatar.png') }}"
                                alt="avatar" />
                            <h4 class="user-name dropdown-toggle" data-toggle="dropdown">
                                {{ current_user.name }} <i class="fa fa-angle-down"></i>
                            </h4>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href='/logout'>Log Out</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- page title area end -->
            <div class="main-content-inner">
                <!-- MAIN CONTENT GOES HERE -->
                {% block content %} {% endblock %}
            </div>
        </div>
        <!-- main content area end -->
        <!-- footer area start-->
        <footer>
            <div class="footer-area">
                <p>
                    Â© Copyright 2024. All right reserved.
                </p>
            </div>
        </footer>
        <!-- footer area end-->
    </div>
    <!-- page container area end -->

    <!-- Global Func -->
    <script>

        $('.select2').select2({
            maximumSelectionSize: 5
        });

        $('.modal').on("shown.bs.modal", function () {
            $('input:visible:first', this).focus();
        });

        $('#btn-AddModal').on('click', function () {
            $('input:visible', this).val('')
        })

        function clearForm() {
            var e = document.getElementById('addModal')
            $('input:visible', e).val('')
        }

        function isEmpty(className) {
            var data = ""
            var isEmpty = document.getElementsByClassName(className)
            for (var i = 0; i < isEmpty.length; i++) {
                if (isEmpty[i].value == '') {
                    data = data + $("label[for='" + isEmpty[i].id + "']").text() + ', '
                }
            }
            if (data) {
                Swal.fire({
                    title: "Gagal",
                    text: "Data " + data.substring(0, data.length - 2) + " tidak boleh kosong",
                    icon: "error"
                });
                return true
            }
            return false
        }

        function set_option_val(id, text) {
            $(id + ' option').filter(function () {
                return this.text == text;
            }).attr('selected', true);
        }

        function thousand(x) {
            return x.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");
        }

        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }
        function generatePdf(url) {
            $.ajax
                ({
                    type: "GET",
                    contentType: "application/json",
                    url: url,
                    async: false,
                    success: (e) => {
                        if (e.status) {
                            printJS({
                                type: "raw-html",
                                printable: e.data
                            });
                        } else {
                            Swal.fire({
                                title: "Gagal",
                                text: e.message,
                                icon: "error"
                            });
                        }
                    },
                    error: function (xhr, status, err) {
                        Swal.fire({
                            title: "Gagal",
                            text: xhr.responseText,
                            icon: "error"
                        });
                    }
                });
        }

        function generateExcel(url, data) {
            $.ajax
                ({
                    type: "GET",
                    contentType: "application/json",
                    data: data,
                    url: url,
                    async: false,
                    success: (e) => {
                        if (e.status) {
                            Swal.fire({
                                title: "Sukses",
                                text: e.message,
                                icon: "success"
                            });
                        } else {
                            Swal.fire({
                                title: "Gagal",
                                text: e.message,
                                icon: "error"
                            });
                        }
                    },
                    error: function (xhr, status, err) {
                        Swal.fire({
                            title: "Gagal",
                            text: xhr.responseText,
                            icon: "error"
                        });
                    }
                });
        }
    </script>

    <!-- bootstrap 4 js -->
    <script src="{{ url_for('static', filename='assets/js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/owl.carousel.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/metisMenu.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/jquery.slimscroll.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/jquery.slicknav.min.js') }}"></script>
    <!-- Sweet Alert -->
    <script src="{{ url_for('static', filename='assets/js/sweetalert2.all.min.js') }}"></script>
    <!-- all line chart activation -->
    <script src="{{ url_for('static', filename='assets/js/line-chart.js') }}"></script>
    <!-- all pie chart -->
    <script src="{{ url_for('static', filename='assets/js/pie-chart.js') }}"></script>
    <!-- others plugins -->
    <script src="{{ url_for('static', filename='assets/js/plugins.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/scripts.js') }}"></script>
    <!-- DataTables -->
    <script src="{{ url_for('static', filename='assets/js/datatables.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/dataTables.fixedColumns.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/dataTables.buttons.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/buttons.dataTables.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/jszip.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/pdfmake.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/vfs_fonts.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/buttons.html5.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/js/buttons.print.min.js') }}"></script>

</body>

</html>